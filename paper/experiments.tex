
\section{Experimental Results}\label{sec:experiments}
We have implemented the algorithm of Section~\ref{sec:algo} (in C++) and present two sets of experimental results.
For all the experimental results we use the tool \textsc{Aspic}~\cite{FG10:aspic} for 
invariant generation, 
and our algorithm requires linear-programming solver for which we use 
\textsc{CPlex}~\cite{cplex}.
All our experimental results were obtained on the following platform: 
Ubuntu16.04, 7.7GB, Intel-Core i3-4130 CPU 3.40GHz QuadCore 64-bit.
%{\bf KRISH: TWO CITATIONS.}


\smallskip\noindent{\em Abstraction of real-world programs.}
We consider benchmarks from abstraction of real-world non-probabilistic programs 
in~\cite{ADFG10:lexicographic}.
Note that there are no abstraction tools available for probabilistic programs 
(to the best of our knowledge). 
Hence we consider the abstract programs obtained from real-world benchmarks as 
considered in the benchmark suite of~\cite{ADFG10:lexicographic}.
Given these non-probabilistic programs we obtain probabilistic programs in two ways:
(a)~{\em probabilistic loops} where the existing while loops are made probabilistic 
by executing the existing statements with probability~1/2, and with remaining 
probability executing skip statements; and
(b)~{\em probabilistic assignments} where the existing assignments are perturbed uniformly in range $[-1,1]$ 
(i.e., we consider additional variables whose value is, in each loop iteration, generated by 
probabilistic assignment uniformly in the range $[-1,1]$, and we add such variable 
to the RHS of an existing assignment).
We report our results on twenty five benchmarks in Table~\ref{tab:exp1} (we 
consider around fifty benchmark examples and the results on the remaining ones 
are presented in \AppendixMaterial.
The experimental results show that the time taken by our approach is always less 
than $1/10$-th of second.
In the table, along with the benchmark name, and time in seconds, we show 
whether a solution exists or not (i.e., whether linear lexicographic RSMs exist
or not), and if the solution exists we present the dimension of the lexicographic RSM
we obtain. 
The final two columns of the table represent whether the non-probabilistic 
program is extended with probabilistic loops and/or probabilistic assignments.


\smallskip\noindent{\em Synthetic examples of large programs.} 
The programs obtained as abstractions of real-world programs in the benchmarks 
as mentioned above have between 10-100 lines of code. 
To test the how does our approach scale with larger codes we consider synthetic examples 
of large probabilistic programs generated as follows.
Given $n$ additional Boolean-like variables, we consider probabilistic while loops,
with some nondeterministic conditional branches, and generate all possible $2^n$ if conditions
based on the Boolean variables. 
Hence given $n$ variables we have probabilistic programs of size $O(2^n)$.
For such programs we first run an invariant generation tool, followed by our algorithm.
In all these examples lexicographic RSMs exist, and has dimension at most~3.
Even for programs with around 12K lines of codes the total time taken is around 
one hour, where the invariant generation (i.e., running Aspic) takes the maximum time, 
and our algorithm requires around two minutes.
The results are presented in Table~\ref{tab:exp2} where we present the number of 
variables, then lines of code, followed by the time taken for invariant generation
by Aspic, then the time taken by our algorithm, and finally the total time.





% The main table which contains 25 entries

\begin{center}
\begin{table}[]
  \centering
   \begin{tabular}{c|c|c|c|c|c}
    
{Benchmark} & {Time (s)} & {Solution} & {Dimension} & {Prob. loops} & {Prob. Assignments} \\\hline \hline
{alain} & {0.11} & {yes} & {2} & {yes} & {yes} \\\hline
{catmouse} & {0.08} & {yes} & {2} & {yes} & {yes} \\\hline
{counterex1a} & {0.1} & {no} & {} & {no} & {no} \\\hline
{counterex1c} & {0.11} & {yes} & {3} & {yes} & {yes} \\\hline
{easy1} & {0.09} & {yes} & {1} & {yes} & {yes} \\\hline
{exmini} & {0.09} & {yes} & {2} & {yes} & {yes} \\\hline
{insertsort} & {0.1} & {yes} & {3} & {yes} & {yes} \\\hline
{ndecr} & {0.09} & {yes} & {2} & {yes} & {yes} \\\hline
{perfect} & {0.11} & {yes} & {3} & {yes} & {yes} \\\hline
{\multirow{2}{*}{perfect2}} & {0.1} & {yes} & {3} & {yes} & {no} \\\cline{2-6}
{} & {0.11} & {no} & {} & {yes} & {yes} \\\hline
{real2} & {0.09} & {no} & {} & {no} & {no} \\\hline
{realbubble} & {0.22} & {yes} & {3} & {yes} & {yes} \\\hline
{realselect} & {0.11} & {yes} & {3} & {yes} & {yes} \\\hline
{realshellsort} & {0.09} & {no} & {} & {yes} & {no} \\\hline
{serpent} & {0.1} & {yes} & {1} & {yes} & {yes} \\\hline
{sipmabubble} & {0.1} & {yes} & {3} & {yes} & {yes} \\\hline
{speedDis2} & {0.09} & {no} & {} & {no} & {no} \\\hline
%{speedFails1} & {0.09} & {yes} & {2} & {yes} & {yes} \\\hline
{speedNestedMultiple} & {0.1} & {yes} & {3} & {yes} & {yes} \\\hline
{speedpldi2} & {0.09} & {yes} & {2} & {yes} & {yes} \\\hline
{speedpldi4} & {0.09} & {yes} & {3} & {yes} & {yes} \\\hline
{speedSimpleMultipleDep} & {0.09} & {no} & {} & {no} & {no} \\\hline
{\multirow{2}{*}{speedSingleSingle2}} & {0.12} & {yes} & {2} & {yes} & {no} \\\cline{2-6}
{} & {0.1} & {no} & {} & {yes} & {yes} \\\hline
{\multirow{2}{*}{unperfect}} & {0.1} & {yes} & {2} & {yes} & {no} \\\cline{2-6}
{} & {0.16} & {no} & {} & {yes} & {yes} \\\hline
{wcet1} & {0.11} & {yes} & {2} & {yes} & {yes} \\\hline
{while2} & {0.1} & {yes} & {3} & {yes} & {yes} \\\hline
    
\end{tabular}
\caption{Experimental results for benchmarks from~\cite{ADFG10:lexicographic} extended with probabilistic loops and/or probabilistic assignments.} \label{tab:exp1}
\end{table}
\end{center}

\begin{center}
\begin{table}[]
  \centering
   \begin{tabular}{c|c|c|c|c}

{Variables} & {LOC} & {Inv Time (s)} & {Our Time (s)} & {Total Time (s)} \\\hline \hline
{2} & {20} & {0.06} & {0.03} & {0.08} \\\hline
{3} & {32} & {0.07} & {0.03} & {0.09} \\\hline
{4} & {56} & {0.08} & {0.04} & {0.11} \\\hline
{5} & {104} & {0.14} & {0.06} & {0.19} \\\hline
{6} & {200} & {0.36} & {0.1} & {0.46} \\\hline
{7} & {392} & {1.31} & {0.3} & {1.61} \\\hline
{8} & {776} & {7.56} & {0.7} & {8.25} \\\hline
{9} & {1544} & {33.07} & {2.5} & {35.57} \\\hline
{10} & {3080} & {164.09} & {8.77} & {172.86} \\\hline
{11} & {6152} & {817.92} & {35.37} & {853.29} \\\hline
{12} & {12296} & {4260.96} & {145.18} & {4406.14} \\\hline
\end{tabular}
\caption{Experimental results for synthetic examples.}\label{tab:exp2}
\end{table}
\end{center}
